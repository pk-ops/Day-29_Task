"use strict";var e=require("./extends-5ede7877.js"),t=require("react"),a=require("classnames"),l=require("formik"),r=require("./WithLabel-25738d1f.js");function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var u=n(t),s=n(a);var o=r.WithLabel("autocomplete")((({name:a,id:r,suggestions:n,className:o,style:i,...c})=>{const[{value:d}]=l.useField(a),[f,m,g,v,p,y]=((e,a)=>{const{setFieldValue:r,setFieldTouched:n}=l.useFormikContext(),[u,s]=t.useState(0),[o,i]=t.useState(null),[c,d]=t.useState(!1);return[u,o,c,t=>{const{value:l}=t.currentTarget,u=null==a?void 0:a.filter((e=>e.toLowerCase().startsWith(l.toLowerCase())));s(0),u&&i(u),d(!0),r(e,l),n(e,!0)},t=>{s(0),i(null),d(!1),r(e,t.currentTarget.innerText),n(e,!0)},t=>{if("Enter"===t.key&&o){var a;if(t.preventDefault(),""===(null==t||null==(a=t.currentTarget)?void 0:a.value))return;d(!1),r(e,o[u]),n(e,!0)}else if("ArrowUp"===t.key&&o){const{length:e}=o;s(0===u?e-1:u-1)}else if("ArrowDown"===t.key&&o){const{length:e}=o;s(u===e-1?0:u+1)}}]})(a,n);return u.default.createElement(u.default.Fragment,null,u.default.createElement("input",e._extends({},c,{id:r||a,name:a,className:o,style:i,onChange:v,onKeyDown:y,value:d,type:"text",tabIndex:0,"data-testid":"fui-autocomplete"})),g&&!!d&&u.default.createElement("ul",{className:"suggestions"},null==m?void 0:m.map(((e,t)=>u.default.createElement("li",{className:s.default({"suggestion-active":t===f}),key:e,onClick:p,role:"presentation"},e)))))}));exports.Autocomplete=o;
