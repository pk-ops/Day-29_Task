import e from"../../node_modules/@babel/runtime/helpers/esm/extends.js";import t from"react";import a from"classnames";import{useFormikContext as l,useField as n}from"formik";import{useDropzone as r}from"react-dropzone";import{WithLabel as o}from"../WithLabel/WithLabel.js";const c=({disabled:o,id:c,name:m,accept:s,zoneActiveText:i="Drop file(s) here",fileCount:p,disabledText:d="File upload disabled",placeholder:u="Try dropping some files here, or click to select files to upload.",className:f,withClearButton:h,clearButtonText:b="Clear Files",multiple:g=!0,...E})=>{const{handleReset:N}=l(),[{value:v},,{setValue:x}]=n(m),{getRootProps:z,getInputProps:j,isDragActive:k,acceptedFiles:y,fileRejections:F}=r({accept:s,onDrop:e=>{const t=g?v.concat(e):e;x(t)},disabled:o,multiple:g,...E});return t.createElement(t.Fragment,null,t.createElement("div",e({},z(),{className:a("dropzone",f,{"dropzone--active":k,"dropzone--disabled":o}),"data-testid":"fui-dropzone"}),o?t.createElement("p",{className:"text"},d):t.createElement(t.Fragment,null,t.createElement("input",e({},j(),{id:c||m,name:m})),y.length&&v.length||F.length?v.map((e=>e.type.includes("image")?t.createElement("img",{key:e.name,src:URL.createObjectURL(e),className:"img-thumbnail",alt:e.name}):t.createElement("div",{key:e.name,className:"icon-wrapper"},t.createElement("div",{className:"icon"},t.createElement("i",{title:e.name.split(".").pop()})),t.createElement("p",null,e.name.split(".").shift())))):k?t.createElement("p",{className:"text"},i):t.createElement("p",{className:"text"},u),p&&t.createElement("div",{className:"file-count"},`Accepted ${y.length}, rejected ${F.length} files`))),h&&!o&&t.createElement("button",{className:"clear-button",type:"button",onClick:N},b))};var m=o("dropzone")(c);export{c as DropZone,m as default};
